{
    "title": "RAG - Chat with your documents",
    "description": "This is a retrieval workflow (based on RAG) and takes in prompt and System Message and returns answer to the prompt.",
    "prerequisites": "Before you use this template, you need to ensure the following pre-requisites are configured. \n- Azure OpenAI instance with an [embedding model](https://learn.microsoft.com/azure/ai-services/openai/concepts/models?tabs=python-secure#embeddings-models) and a [chat model](https://learn.microsoft.com/azure/ai-services/openai/concepts/models?tabs=python-secure).  \n- Azure SQL DB table with Vector data type with your [documents and the content](https://github.com/Azure-Samples/azure-sql-db-vector-search/tree/main/RAG-with-Documents) . The table needs to be loaded with the documents, using the index-ai-blob-sql-rag workflow for document indexing provided in this accelrator.",
    "tags": [
        "RAG-Document-Ingestion"
    ],
    "skus": [
        "standard"
    ],
    "kinds": [
        "stateful",
        "stateless"
    ],
    "detailsDescription": "Based on the retrieval-augmented generation (RAG) pattern, this workflow template is triggered via a Request. The request should include the prompt or the question. The prompt is in text so using Azure OpenAI embedding model, the prompt is converted to vector and then used to query vectors from Azure SQL DB table with vectors. The retreived results are provided as an input along with System message to Azure OpenAI Chat completions API, along with the Chat model. The response from OpenAI is returned back.",
    "details": {
        "By": "Microsoft",
        "Type": "Workflow",
        "Trigger": "Request",
        "Category": "AI,RAG"
    },
    "artifacts": [
        {
            "type": "workflow",
            "file": "workflow.json"
        }
    ],
    "images": {
        "light": "workflow-light",
        "dark": "workflow-dark"
    },
    "parameters": [
        {
            "name": "OpenAIEmbeddingModel_#workflowname#",
            "displayName": "Azure OpenAI text embedding deployment model name",
            "type": "String",
            "description": "Provide the Azure OpenAI embedding model to generate vector embeddings.",
            "required": true
        },
        {
            "name": "OpenAIChatModel_#workflowname#",
            "displayName": "Azure OpenAI chat model name",
            "type": "String",
            "description": "Provide the Azure OpenAI chat model name to use for chat completions.",
            "required": true
        }
    ],
    "connections": {
        "azuresql_#workflowname#": {
            "connectorId": "/serviceProviders/sql",
            "kind": "inapp"
        },
        "openai_#workflowname#": {
            "connectorId": "/serviceProviders/openai",
            "kind": "inapp"
        }
    }
}